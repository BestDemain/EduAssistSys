{"ast":null,"code":"var _jsxFileName = \"D:\\\\Vscode\\\\Project\\\\VisualAnalytics\\\\EduAssistSys\\\\frontend\\\\src\\\\pages\\\\ReportGenerator.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Row, Col, Card, Select, Button, Form, Checkbox, Radio, Spin, Alert, Typography, message, Tabs, Modal, Table, Tag, Tooltip, Space, Divider } from 'antd';\nimport { DownloadOutlined, FileTextOutlined, EyeOutlined, HistoryOutlined, SettingOutlined, DeleteOutlined } from '@ant-design/icons';\nimport axios from 'axios';\nimport ReactECharts from 'echarts-for-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\nconst {\n  Title,\n  Paragraph,\n  Text\n} = Typography;\nconst {\n  TabPane\n} = Tabs;\nconst ReportGenerator = () => {\n  _s();\n  var _previewData$sections;\n  const [form] = Form.useForm();\n  const [loading, setLoading] = useState(false);\n  const [generating, setGenerating] = useState(false);\n  const [error, setError] = useState(null);\n  const [students, setStudents] = useState([]);\n  const [reportPath, setReportPath] = useState(null);\n  const [reportHistory, setReportHistory] = useState([]);\n  const [previewVisible, setPreviewVisible] = useState(false);\n  const [previewData, setPreviewData] = useState(null);\n  const [activeTab, setActiveTab] = useState('generator');\n  const [templates, setTemplates] = useState([]);\n\n  // 加载初始数据\n  useEffect(() => {\n    const fetchInitialData = async () => {\n      try {\n        setLoading(true);\n\n        // 获取学生数据\n        const studentsResponse = await axios.get('/api/students');\n        setStudents(studentsResponse.data);\n\n        // 获取报告模板数据\n        const templatesResponse = await axios.get('/api/report/templates');\n        if (templatesResponse.data.status === 'success') {\n          setTemplates(templatesResponse.data.templates || []);\n        }\n\n        // 获取报告历史记录\n        const historyResponse = await axios.get('/api/report/history');\n        if (historyResponse.data.status === 'success') {\n          setReportHistory(historyResponse.data.reports || []);\n        }\n        setLoading(false);\n      } catch (err) {\n        console.error('加载初始数据失败:', err);\n        setError('加载初始数据失败，请稍后重试');\n        setLoading(false);\n      }\n    };\n    fetchInitialData();\n  }, []);\n\n  // 生成报告\n  const generateReport = async values => {\n    try {\n      setGenerating(true);\n      setError(null);\n      setReportPath(null);\n      const {\n        reportType,\n        studentId,\n        format,\n        content,\n        templateId,\n        customOptions\n      } = values;\n      const response = await axios.post('/api/report/generate', {\n        report_type: reportType,\n        student_id: studentId === 'all' ? null : studentId,\n        format: format,\n        content: content || [],\n        template_id: templateId,\n        custom_options: customOptions || {}\n      });\n      if (response.data.status === 'success') {\n        setReportPath(response.data.report_path);\n        message.success('报告生成成功！');\n\n        // 刷新报告历史记录\n        const historyResponse = await axios.get('/api/report/history');\n        if (historyResponse.data.status === 'success') {\n          setReportHistory(historyResponse.data.reports || []);\n        }\n      } else {\n        setError(response.data.message || '生成报告失败');\n        message.error('报告生成失败！');\n      }\n      setGenerating(false);\n    } catch (err) {\n      console.error('生成报告失败:', err);\n      setError('生成报告失败，请稍后重试');\n      message.error('报告生成失败！');\n      setGenerating(false);\n    }\n  };\n\n  // 下载报告\n  const downloadReport = path => {\n    if (!path) return;\n    const filename = path.split('/').pop();\n    window.open(`/api/report/download/${filename}`, '_blank');\n  };\n\n  // 预览报告\n  const previewReport = async path => {\n    try {\n      setLoading(true);\n      const filename = path.split('/').pop();\n      const response = await axios.get(`/api/report/preview/${filename}`);\n      if (response.data.status === 'success') {\n        setPreviewData(response.data.preview_data);\n        setPreviewVisible(true);\n      } else {\n        message.error('预览报告失败！');\n      }\n      setLoading(false);\n    } catch (err) {\n      console.error('预览报告失败:', err);\n      message.error('预览报告失败，请稍后重试');\n      setLoading(false);\n    }\n  };\n\n  // 删除报告\n  const deleteReport = async reportId => {\n    try {\n      const response = await axios.delete(`/api/report/${reportId}`);\n      if (response.data.status === 'success') {\n        message.success('报告删除成功！');\n\n        // 刷新报告历史记录\n        const historyResponse = await axios.get('/api/report/history');\n        if (historyResponse.data.status === 'success') {\n          setReportHistory(historyResponse.data.reports || []);\n        }\n      } else {\n        message.error('删除报告失败！');\n      }\n    } catch (err) {\n      console.error('删除报告失败:', err);\n      message.error('删除报告失败，请稍后重试');\n    }\n  };\n\n  // 生成预览图表\n  const getPreviewChartOption = chartData => {\n    if (!chartData || !chartData.type) return {};\n    switch (chartData.type) {\n      case 'pie':\n        return {\n          title: {\n            text: chartData.title || '图表预览',\n            left: 'center'\n          },\n          tooltip: {\n            trigger: 'item',\n            formatter: '{a} <br/>{b}: {c} ({d}%)'\n          },\n          series: [{\n            name: chartData.seriesName || '数据',\n            type: 'pie',\n            radius: '60%',\n            center: ['50%', '50%'],\n            data: chartData.data || [],\n            emphasis: {\n              itemStyle: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n              }\n            }\n          }]\n        };\n      case 'bar':\n        return {\n          title: {\n            text: chartData.title || '图表预览',\n            left: 'center'\n          },\n          tooltip: {\n            trigger: 'axis',\n            axisPointer: {\n              type: 'shadow'\n            }\n          },\n          xAxis: {\n            type: 'category',\n            data: chartData.xAxisData || []\n          },\n          yAxis: {\n            type: 'value'\n          },\n          series: [{\n            name: chartData.seriesName || '数据',\n            type: 'bar',\n            data: chartData.data || [],\n            itemStyle: {\n              color: '#1890ff'\n            }\n          }]\n        };\n      case 'line':\n        return {\n          title: {\n            text: chartData.title || '图表预览',\n            left: 'center'\n          },\n          tooltip: {\n            trigger: 'axis'\n          },\n          xAxis: {\n            type: 'category',\n            data: chartData.xAxisData || []\n          },\n          yAxis: {\n            type: 'value'\n          },\n          series: [{\n            name: chartData.seriesName || '数据',\n            type: 'line',\n            data: chartData.data || [],\n            itemStyle: {\n              color: '#1890ff'\n            }\n          }]\n        };\n      default:\n        return {};\n    }\n  };\n\n  // 报告历史记录表格列定义\n  const historyColumns = [{\n    title: '报告名称',\n    dataIndex: 'report_name',\n    key: 'report_name',\n    ellipsis: true,\n    render: (text, record) => /*#__PURE__*/_jsxDEV(Tooltip, {\n      title: text,\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '报告类型',\n    dataIndex: 'report_type',\n    key: 'report_type',\n    render: text => {\n      const typeMap = {\n        'general': '综合分析报告',\n        'knowledge': '知识点掌握报告',\n        'behavior': '学习行为报告',\n        'difficulty': '题目难度报告'\n      };\n      return typeMap[text] || text;\n    }\n  }, {\n    title: '学生',\n    dataIndex: 'student_id',\n    key: 'student_id',\n    render: text => text || '所有学生'\n  }, {\n    title: '格式',\n    dataIndex: 'format',\n    key: 'format',\n    render: text => /*#__PURE__*/_jsxDEV(Tag, {\n      color: \"blue\",\n      children: text.toUpperCase()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '生成时间',\n    dataIndex: 'created_at',\n    key: 'created_at',\n    sorter: (a, b) => new Date(a.created_at) - new Date(b.created_at)\n  }, {\n    title: '操作',\n    key: 'action',\n    render: (_, record) => /*#__PURE__*/_jsxDEV(Space, {\n      size: \"middle\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"link\",\n        icon: /*#__PURE__*/_jsxDEV(EyeOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 19\n        }, this),\n        onClick: () => previewReport(record.report_path),\n        children: \"\\u9884\\u89C8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"link\",\n        icon: /*#__PURE__*/_jsxDEV(DownloadOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 19\n        }, this),\n        onClick: () => downloadReport(record.report_path),\n        children: \"\\u4E0B\\u8F7D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"link\",\n        danger: true,\n        icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 19\n        }, this),\n        onClick: () => deleteReport(record.id),\n        children: \"\\u5220\\u9664\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 9\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      level: 2,\n      children: \"\\u62A5\\u544A\\u751F\\u6210\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paragraph, {\n      children: \"\\u672C\\u6A21\\u5757\\u53EF\\u751F\\u6210\\u5305\\u542B\\u81EA\\u7136\\u8BED\\u8A00\\u548C\\u56FE\\u8868\\u5143\\u7D20\\u7684\\u5206\\u6790\\u62A5\\u544A\\uFF0C\\u652F\\u6301\\u901A\\u8FC7\\u4EA4\\u4E92\\u5F0F\\u64CD\\u4F5C\\u6307\\u5B9A\\u62A5\\u544A\\u7684\\u683C\\u5F0F\\u3001\\u5185\\u5BB9\\u548C\\u8303\\u56F4\\u3002\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      activeKey: activeTab,\n      onChange: setActiveTab,\n      children: [/*#__PURE__*/_jsxDEV(TabPane, {\n        tab: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(FileTextOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 22\n          }, this), \"\\u62A5\\u544A\\u751F\\u6210\\u5668\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 16\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Form, {\n            form: form,\n            layout: \"vertical\",\n            onFinish: generateReport,\n            initialValues: {\n              reportType: 'general',\n              format: 'pdf',\n              content: ['knowledge', 'behavior', 'difficulty'],\n              templateId: templates.length > 0 ? templates[0].id : undefined\n            },\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              gutter: 16,\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                xs: 24,\n                md: 12,\n                children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                  name: \"reportType\",\n                  label: \"\\u62A5\\u544A\\u7C7B\\u578B\",\n                  rules: [{\n                    required: true,\n                    message: '请选择报告类型'\n                  }],\n                  children: /*#__PURE__*/_jsxDEV(Radio.Group, {\n                    children: [/*#__PURE__*/_jsxDEV(Radio, {\n                      value: \"general\",\n                      children: \"\\u7EFC\\u5408\\u5206\\u6790\\u62A5\\u544A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 356,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Radio, {\n                      value: \"knowledge\",\n                      children: \"\\u77E5\\u8BC6\\u70B9\\u638C\\u63E1\\u62A5\\u544A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 357,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Radio, {\n                      value: \"behavior\",\n                      children: \"\\u5B66\\u4E60\\u884C\\u4E3A\\u62A5\\u544A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Radio, {\n                      value: \"difficulty\",\n                      children: \"\\u9898\\u76EE\\u96BE\\u5EA6\\u62A5\\u544A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 359,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                xs: 24,\n                md: 12,\n                children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                  name: \"studentId\",\n                  label: \"\\u5B66\\u751F\",\n                  rules: [{\n                    required: true,\n                    message: '请选择学生'\n                  }],\n                  initialValue: \"all\",\n                  children: /*#__PURE__*/_jsxDEV(Select, {\n                    placeholder: \"\\u9009\\u62E9\\u5B66\\u751F\",\n                    loading: loading,\n                    children: [/*#__PURE__*/_jsxDEV(Option, {\n                      value: \"all\",\n                      children: \"\\u6240\\u6709\\u5B66\\u751F\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 372,\n                      columnNumber: 23\n                    }, this), students.map(student => /*#__PURE__*/_jsxDEV(Option, {\n                      value: student.student_ID,\n                      children: [student.student_ID, \" \", student.sex ? `(${student.sex})` : '']\n                    }, student.student_ID, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 374,\n                      columnNumber: 25\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 371,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              gutter: 16,\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                xs: 24,\n                md: 12,\n                children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                  name: \"format\",\n                  label: \"\\u62A5\\u544A\\u683C\\u5F0F\",\n                  rules: [{\n                    required: true,\n                    message: '请选择报告格式'\n                  }],\n                  children: /*#__PURE__*/_jsxDEV(Radio.Group, {\n                    children: [/*#__PURE__*/_jsxDEV(Radio, {\n                      value: \"pdf\",\n                      children: \"PDF\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 391,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Radio, {\n                      value: \"html\",\n                      children: \"HTML\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 392,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Radio, {\n                      value: \"docx\",\n                      children: \"Word\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 393,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Radio, {\n                      value: \"xlsx\",\n                      children: \"Excel\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 394,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 390,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                xs: 24,\n                md: 12,\n                children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                  name: \"templateId\",\n                  label: \"\\u62A5\\u544A\\u6A21\\u677F\",\n                  rules: [{\n                    required: true,\n                    message: '请选择报告模板'\n                  }],\n                  children: /*#__PURE__*/_jsxDEV(Select, {\n                    placeholder: \"\\u9009\\u62E9\\u6A21\\u677F\",\n                    loading: loading,\n                    children: templates.map(template => /*#__PURE__*/_jsxDEV(Option, {\n                      value: template.id,\n                      children: template.name\n                    }, template.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 407,\n                      columnNumber: 25\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              orientation: \"left\",\n              children: \"\\u62A5\\u544A\\u5185\\u5BB9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              gutter: 16,\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                span: 24,\n                children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                  name: \"content\",\n                  label: \"\\u5206\\u6790\\u5185\\u5BB9\",\n                  children: /*#__PURE__*/_jsxDEV(Checkbox.Group, {\n                    style: {\n                      width: '100%'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Row, {\n                      gutter: [16, 16],\n                      children: [/*#__PURE__*/_jsxDEV(Col, {\n                        span: 8,\n                        children: /*#__PURE__*/_jsxDEV(Card, {\n                          size: \"small\",\n                          hoverable: true,\n                          children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                            value: \"knowledge\",\n                            children: \"\\u77E5\\u8BC6\\u70B9\\u5206\\u6790\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 428,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              marginTop: 8,\n                              marginLeft: 24\n                            },\n                            children: /*#__PURE__*/_jsxDEV(Text, {\n                              type: \"secondary\",\n                              children: \"\\u5305\\u542B\\u77E5\\u8BC6\\u70B9\\u638C\\u63E1\\u5EA6\\u3001\\u8584\\u5F31\\u70B9\\u7B49\\u5206\\u6790\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 430,\n                              columnNumber: 31\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 429,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 427,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 426,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Col, {\n                        span: 8,\n                        children: /*#__PURE__*/_jsxDEV(Card, {\n                          size: \"small\",\n                          hoverable: true,\n                          children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                            value: \"behavior\",\n                            children: \"\\u884C\\u4E3A\\u5206\\u6790\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 436,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              marginTop: 8,\n                              marginLeft: 24\n                            },\n                            children: /*#__PURE__*/_jsxDEV(Text, {\n                              type: \"secondary\",\n                              children: \"\\u5305\\u542B\\u5B66\\u4E60\\u884C\\u4E3A\\u3001\\u7B54\\u9898\\u4E60\\u60EF\\u7B49\\u5206\\u6790\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 438,\n                              columnNumber: 31\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 437,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 435,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 434,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Col, {\n                        span: 8,\n                        children: /*#__PURE__*/_jsxDEV(Card, {\n                          size: \"small\",\n                          hoverable: true,\n                          children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                            value: \"difficulty\",\n                            children: \"\\u96BE\\u5EA6\\u5206\\u6790\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 444,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              marginTop: 8,\n                              marginLeft: 24\n                            },\n                            children: /*#__PURE__*/_jsxDEV(Text, {\n                              type: \"secondary\",\n                              children: \"\\u5305\\u542B\\u9898\\u76EE\\u96BE\\u5EA6\\u3001\\u4E0D\\u5408\\u7406\\u9898\\u76EE\\u7B49\\u5206\\u6790\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 446,\n                              columnNumber: 31\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 445,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 443,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 442,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 425,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 424,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              children: /*#__PURE__*/_jsxDEV(Space, {\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  type: \"primary\",\n                  htmlType: \"submit\",\n                  loading: generating,\n                  children: \"\\u751F\\u6210\\u62A5\\u544A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  icon: /*#__PURE__*/_jsxDEV(SettingOutlined, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 462,\n                    columnNumber: 27\n                  }, this),\n                  onClick: () => message.info('高级设置功能即将上线'),\n                  children: \"\\u9AD8\\u7EA7\\u8BBE\\u7F6E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n            message: \"\\u9519\\u8BEF\",\n            description: error,\n            type: \"error\",\n            showIcon: true,\n            style: {\n              marginTop: 16\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 23\n          }, this), reportPath && /*#__PURE__*/_jsxDEV(Card, {\n            style: {\n              marginTop: 16,\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(FileTextOutlined, {\n              style: {\n                fontSize: 48,\n                color: '#1890ff',\n                marginBottom: 16\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Title, {\n              level: 4,\n              children: \"\\u62A5\\u544A\\u5DF2\\u751F\\u6210\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Space, {\n              style: {\n                marginTop: 16\n              },\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                type: \"primary\",\n                icon: /*#__PURE__*/_jsxDEV(DownloadOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 27\n                }, this),\n                onClick: () => downloadReport(reportPath),\n                children: \"\\u4E0B\\u8F7D\\u62A5\\u544A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                icon: /*#__PURE__*/_jsxDEV(EyeOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 27\n                }, this),\n                onClick: () => previewReport(reportPath),\n                children: \"\\u9884\\u89C8\\u62A5\\u544A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this)\n      }, \"generator\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabPane, {\n        tab: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(HistoryOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 22\n          }, this), \"\\u62A5\\u544A\\u5386\\u53F2\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 16\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            columns: historyColumns,\n            dataSource: reportHistory,\n            rowKey: \"id\",\n            loading: loading,\n            pagination: {\n              pageSize: 10\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 11\n        }, this)\n      }, \"history\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"\\u62A5\\u544A\\u9884\\u89C8\",\n      visible: previewVisible,\n      onCancel: () => setPreviewVisible(false),\n      width: 800,\n      footer: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setPreviewVisible(false),\n        children: \"\\u5173\\u95ED\"\n      }, \"close\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        icon: /*#__PURE__*/_jsxDEV(DownloadOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 19\n        }, this),\n        onClick: () => {\n          downloadReport(previewData === null || previewData === void 0 ? void 0 : previewData.report_path);\n          setPreviewVisible(false);\n        },\n        children: \"\\u4E0B\\u8F7D\\u62A5\\u544A\"\n      }, \"download\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 11\n      }, this)],\n      children: previewData ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          level: 3,\n          style: {\n            textAlign: 'center'\n          },\n          children: previewData.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 13\n        }, this), (_previewData$sections = previewData.sections) === null || _previewData$sections === void 0 ? void 0 : _previewData$sections.map((section, index) => {\n          var _section$charts;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 24\n            },\n            children: [/*#__PURE__*/_jsxDEV(Title, {\n              level: 4,\n              children: section.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 542,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Paragraph, {\n              children: section.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 17\n            }, this), (_section$charts = section.charts) === null || _section$charts === void 0 ? void 0 : _section$charts.map((chart, chartIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 16,\n                marginBottom: 16\n              },\n              children: /*#__PURE__*/_jsxDEV(ReactECharts, {\n                option: getPreviewChartOption(chart),\n                style: {\n                  height: 300\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 547,\n                columnNumber: 21\n              }, this)\n            }, chartIndex, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 19\n            }, this))]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Spin, {\n        tip: \"\\u52A0\\u8F7D\\u9884\\u89C8\\u6570\\u636E...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 325,\n    columnNumber: 5\n  }, this);\n};\n_s(ReportGenerator, \"765ox27wsDqjQ+4sjlhIIQcb27w=\", false, function () {\n  return [Form.useForm];\n});\n_c = ReportGenerator;\nexport default ReportGenerator;\nvar _c;\n$RefreshReg$(_c, \"ReportGenerator\");","map":{"version":3,"names":["React","useState","useEffect","Row","Col","Card","Select","Button","Form","Checkbox","Radio","Spin","Alert","Typography","message","Tabs","Modal","Table","Tag","Tooltip","Space","Divider","DownloadOutlined","FileTextOutlined","EyeOutlined","HistoryOutlined","SettingOutlined","DeleteOutlined","axios","ReactECharts","jsxDEV","_jsxDEV","Option","Title","Paragraph","Text","TabPane","ReportGenerator","_s","_previewData$sections","form","useForm","loading","setLoading","generating","setGenerating","error","setError","students","setStudents","reportPath","setReportPath","reportHistory","setReportHistory","previewVisible","setPreviewVisible","previewData","setPreviewData","activeTab","setActiveTab","templates","setTemplates","fetchInitialData","studentsResponse","get","data","templatesResponse","status","historyResponse","reports","err","console","generateReport","values","reportType","studentId","format","content","templateId","customOptions","response","post","report_type","student_id","template_id","custom_options","report_path","success","downloadReport","path","filename","split","pop","window","open","previewReport","preview_data","deleteReport","reportId","delete","getPreviewChartOption","chartData","type","title","text","left","tooltip","trigger","formatter","series","name","seriesName","radius","center","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","axisPointer","xAxis","xAxisData","yAxis","color","historyColumns","dataIndex","key","ellipsis","render","record","children","fileName","_jsxFileName","lineNumber","columnNumber","typeMap","toUpperCase","sorter","a","b","Date","created_at","_","size","icon","onClick","danger","id","level","activeKey","onChange","tab","layout","onFinish","initialValues","length","undefined","gutter","xs","md","Item","label","rules","required","Group","value","initialValue","placeholder","map","student","student_ID","sex","template","orientation","span","style","width","hoverable","marginTop","marginLeft","htmlType","info","description","showIcon","textAlign","fontSize","marginBottom","columns","dataSource","rowKey","pagination","pageSize","visible","onCancel","footer","sections","section","index","_section$charts","charts","chart","chartIndex","option","height","tip","_c","$RefreshReg$"],"sources":["D:/Vscode/Project/VisualAnalytics/EduAssistSys/frontend/src/pages/ReportGenerator.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Row, Col, Card, Select, Button, Form, Checkbox, Radio, Spin, Alert, Typography, message, Tabs, Modal, Table, Tag, Tooltip, Space, Divider } from 'antd';\r\nimport { DownloadOutlined, FileTextOutlined, EyeOutlined, HistoryOutlined, SettingOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport axios from 'axios';\r\nimport ReactECharts from 'echarts-for-react';\r\n\r\nconst { Option } = Select;\r\nconst { Title, Paragraph, Text } = Typography;\r\nconst { TabPane } = Tabs;\r\n\r\nconst ReportGenerator = () => {\r\n  const [form] = Form.useForm();\r\n  const [loading, setLoading] = useState(false);\r\n  const [generating, setGenerating] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [students, setStudents] = useState([]);\r\n  const [reportPath, setReportPath] = useState(null);\r\n  const [reportHistory, setReportHistory] = useState([]);\r\n  const [previewVisible, setPreviewVisible] = useState(false);\r\n  const [previewData, setPreviewData] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('generator');\r\n  const [templates, setTemplates] = useState([]);\r\n  \r\n  // 加载初始数据\r\n  useEffect(() => {\r\n    const fetchInitialData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        // 获取学生数据\r\n        const studentsResponse = await axios.get('/api/students');\r\n        setStudents(studentsResponse.data);\r\n        \r\n        // 获取报告模板数据\r\n        const templatesResponse = await axios.get('/api/report/templates');\r\n        if (templatesResponse.data.status === 'success') {\r\n          setTemplates(templatesResponse.data.templates || []);\r\n        }\r\n        \r\n        // 获取报告历史记录\r\n        const historyResponse = await axios.get('/api/report/history');\r\n        if (historyResponse.data.status === 'success') {\r\n          setReportHistory(historyResponse.data.reports || []);\r\n        }\r\n        \r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error('加载初始数据失败:', err);\r\n        setError('加载初始数据失败，请稍后重试');\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchInitialData();\r\n  }, []);\r\n  \r\n  // 生成报告\r\n  const generateReport = async (values) => {\r\n    try {\r\n      setGenerating(true);\r\n      setError(null);\r\n      setReportPath(null);\r\n      \r\n      const { reportType, studentId, format, content, templateId, customOptions } = values;\r\n      \r\n      const response = await axios.post('/api/report/generate', {\r\n        report_type: reportType,\r\n        student_id: studentId === 'all' ? null : studentId,\r\n        format: format,\r\n        content: content || [],\r\n        template_id: templateId,\r\n        custom_options: customOptions || {}\r\n      });\r\n      \r\n      if (response.data.status === 'success') {\r\n        setReportPath(response.data.report_path);\r\n        message.success('报告生成成功！');\r\n        \r\n        // 刷新报告历史记录\r\n        const historyResponse = await axios.get('/api/report/history');\r\n        if (historyResponse.data.status === 'success') {\r\n          setReportHistory(historyResponse.data.reports || []);\r\n        }\r\n      } else {\r\n        setError(response.data.message || '生成报告失败');\r\n        message.error('报告生成失败！');\r\n      }\r\n      \r\n      setGenerating(false);\r\n    } catch (err) {\r\n      console.error('生成报告失败:', err);\r\n      setError('生成报告失败，请稍后重试');\r\n      message.error('报告生成失败！');\r\n      setGenerating(false);\r\n    }\r\n  };\r\n  \r\n  // 下载报告\r\n  const downloadReport = (path) => {\r\n    if (!path) return;\r\n    \r\n    const filename = path.split('/').pop();\r\n    window.open(`/api/report/download/${filename}`, '_blank');\r\n  };\r\n  \r\n  // 预览报告\r\n  const previewReport = async (path) => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      const filename = path.split('/').pop();\r\n      const response = await axios.get(`/api/report/preview/${filename}`);\r\n      \r\n      if (response.data.status === 'success') {\r\n        setPreviewData(response.data.preview_data);\r\n        setPreviewVisible(true);\r\n      } else {\r\n        message.error('预览报告失败！');\r\n      }\r\n      \r\n      setLoading(false);\r\n    } catch (err) {\r\n      console.error('预览报告失败:', err);\r\n      message.error('预览报告失败，请稍后重试');\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // 删除报告\r\n  const deleteReport = async (reportId) => {\r\n    try {\r\n      const response = await axios.delete(`/api/report/${reportId}`);\r\n      \r\n      if (response.data.status === 'success') {\r\n        message.success('报告删除成功！');\r\n        \r\n        // 刷新报告历史记录\r\n        const historyResponse = await axios.get('/api/report/history');\r\n        if (historyResponse.data.status === 'success') {\r\n          setReportHistory(historyResponse.data.reports || []);\r\n        }\r\n      } else {\r\n        message.error('删除报告失败！');\r\n      }\r\n    } catch (err) {\r\n      console.error('删除报告失败:', err);\r\n      message.error('删除报告失败，请稍后重试');\r\n    }\r\n  };\r\n  \r\n  // 生成预览图表\r\n  const getPreviewChartOption = (chartData) => {\r\n    if (!chartData || !chartData.type) return {};\r\n    \r\n    switch (chartData.type) {\r\n      case 'pie':\r\n        return {\r\n          title: {\r\n            text: chartData.title || '图表预览',\r\n            left: 'center'\r\n          },\r\n          tooltip: {\r\n            trigger: 'item',\r\n            formatter: '{a} <br/>{b}: {c} ({d}%)'\r\n          },\r\n          series: [\r\n            {\r\n              name: chartData.seriesName || '数据',\r\n              type: 'pie',\r\n              radius: '60%',\r\n              center: ['50%', '50%'],\r\n              data: chartData.data || [],\r\n              emphasis: {\r\n                itemStyle: {\r\n                  shadowBlur: 10,\r\n                  shadowOffsetX: 0,\r\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                }\r\n              }\r\n            }\r\n          ]\r\n        };\r\n      case 'bar':\r\n        return {\r\n          title: {\r\n            text: chartData.title || '图表预览',\r\n            left: 'center'\r\n          },\r\n          tooltip: {\r\n            trigger: 'axis',\r\n            axisPointer: {\r\n              type: 'shadow'\r\n            }\r\n          },\r\n          xAxis: {\r\n            type: 'category',\r\n            data: chartData.xAxisData || []\r\n          },\r\n          yAxis: {\r\n            type: 'value'\r\n          },\r\n          series: [\r\n            {\r\n              name: chartData.seriesName || '数据',\r\n              type: 'bar',\r\n              data: chartData.data || [],\r\n              itemStyle: {\r\n                color: '#1890ff'\r\n              }\r\n            }\r\n          ]\r\n        };\r\n      case 'line':\r\n        return {\r\n          title: {\r\n            text: chartData.title || '图表预览',\r\n            left: 'center'\r\n          },\r\n          tooltip: {\r\n            trigger: 'axis'\r\n          },\r\n          xAxis: {\r\n            type: 'category',\r\n            data: chartData.xAxisData || []\r\n          },\r\n          yAxis: {\r\n            type: 'value'\r\n          },\r\n          series: [\r\n            {\r\n              name: chartData.seriesName || '数据',\r\n              type: 'line',\r\n              data: chartData.data || [],\r\n              itemStyle: {\r\n                color: '#1890ff'\r\n              }\r\n            }\r\n          ]\r\n        };\r\n      default:\r\n        return {};\r\n    }\r\n  };\r\n  \r\n  // 报告历史记录表格列定义\r\n  const historyColumns = [\r\n    {\r\n      title: '报告名称',\r\n      dataIndex: 'report_name',\r\n      key: 'report_name',\r\n      ellipsis: true,\r\n      render: (text, record) => (\r\n        <Tooltip title={text}>\r\n          <span>{text}</span>\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: '报告类型',\r\n      dataIndex: 'report_type',\r\n      key: 'report_type',\r\n      render: (text) => {\r\n        const typeMap = {\r\n          'general': '综合分析报告',\r\n          'knowledge': '知识点掌握报告',\r\n          'behavior': '学习行为报告',\r\n          'difficulty': '题目难度报告'\r\n        };\r\n        return typeMap[text] || text;\r\n      }\r\n    },\r\n    {\r\n      title: '学生',\r\n      dataIndex: 'student_id',\r\n      key: 'student_id',\r\n      render: (text) => text || '所有学生'\r\n    },\r\n    {\r\n      title: '格式',\r\n      dataIndex: 'format',\r\n      key: 'format',\r\n      render: (text) => (\r\n        <Tag color=\"blue\">{text.toUpperCase()}</Tag>\r\n      )\r\n    },\r\n    {\r\n      title: '生成时间',\r\n      dataIndex: 'created_at',\r\n      key: 'created_at',\r\n      sorter: (a, b) => new Date(a.created_at) - new Date(b.created_at)\r\n    },\r\n    {\r\n      title: '操作',\r\n      key: 'action',\r\n      render: (_, record) => (\r\n        <Space size=\"middle\">\r\n          <Button \r\n            type=\"link\" \r\n            icon={<EyeOutlined />} \r\n            onClick={() => previewReport(record.report_path)}\r\n          >\r\n            预览\r\n          </Button>\r\n          <Button \r\n            type=\"link\" \r\n            icon={<DownloadOutlined />} \r\n            onClick={() => downloadReport(record.report_path)}\r\n          >\r\n            下载\r\n          </Button>\r\n          <Button \r\n            type=\"link\" \r\n            danger \r\n            icon={<DeleteOutlined />} \r\n            onClick={() => deleteReport(record.id)}\r\n          >\r\n            删除\r\n          </Button>\r\n        </Space>\r\n      )\r\n    }\r\n  ];\r\n  \r\n  return (\r\n    <div>\r\n      <Title level={2}>报告生成</Title>\r\n      <Paragraph>\r\n        本模块可生成包含自然语言和图表元素的分析报告，支持通过交互式操作指定报告的格式、内容和范围。\r\n      </Paragraph>\r\n      \r\n      <Tabs activeKey={activeTab} onChange={setActiveTab}>\r\n        <TabPane \r\n          tab={<span><FileTextOutlined />报告生成器</span>} \r\n          key=\"generator\"\r\n        >\r\n          <Card>\r\n            <Form\r\n              form={form}\r\n              layout=\"vertical\"\r\n              onFinish={generateReport}\r\n              initialValues={{\r\n                reportType: 'general',\r\n                format: 'pdf',\r\n                content: ['knowledge', 'behavior', 'difficulty'],\r\n                templateId: templates.length > 0 ? templates[0].id : undefined\r\n              }}\r\n            >\r\n              <Row gutter={16}>\r\n                <Col xs={24} md={12}>\r\n                  <Form.Item\r\n                    name=\"reportType\"\r\n                    label=\"报告类型\"\r\n                    rules={[{ required: true, message: '请选择报告类型' }]}\r\n                  >\r\n                    <Radio.Group>\r\n                      <Radio value=\"general\">综合分析报告</Radio>\r\n                      <Radio value=\"knowledge\">知识点掌握报告</Radio>\r\n                      <Radio value=\"behavior\">学习行为报告</Radio>\r\n                      <Radio value=\"difficulty\">题目难度报告</Radio>\r\n                    </Radio.Group>\r\n                  </Form.Item>\r\n                </Col>\r\n                \r\n                <Col xs={24} md={12}>\r\n                  <Form.Item\r\n                    name=\"studentId\"\r\n                    label=\"学生\"\r\n                    rules={[{ required: true, message: '请选择学生' }]}\r\n                    initialValue=\"all\"\r\n                  >\r\n                    <Select placeholder=\"选择学生\" loading={loading}>\r\n                      <Option value=\"all\">所有学生</Option>\r\n                      {students.map(student => (\r\n                        <Option key={student.student_ID} value={student.student_ID}>\r\n                          {student.student_ID} {student.sex ? `(${student.sex})` : ''}\r\n                        </Option>\r\n                      ))}\r\n                    </Select>\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              \r\n              <Row gutter={16}>\r\n                <Col xs={24} md={12}>\r\n                  <Form.Item\r\n                    name=\"format\"\r\n                    label=\"报告格式\"\r\n                    rules={[{ required: true, message: '请选择报告格式' }]}\r\n                  >\r\n                    <Radio.Group>\r\n                      <Radio value=\"pdf\">PDF</Radio>\r\n                      <Radio value=\"html\">HTML</Radio>\r\n                      <Radio value=\"docx\">Word</Radio>\r\n                      <Radio value=\"xlsx\">Excel</Radio>\r\n                    </Radio.Group>\r\n                  </Form.Item>\r\n                </Col>\r\n                \r\n                <Col xs={24} md={12}>\r\n                  <Form.Item\r\n                    name=\"templateId\"\r\n                    label=\"报告模板\"\r\n                    rules={[{ required: true, message: '请选择报告模板' }]}\r\n                  >\r\n                    <Select placeholder=\"选择模板\" loading={loading}>\r\n                      {templates.map(template => (\r\n                        <Option key={template.id} value={template.id}>\r\n                          {template.name}\r\n                        </Option>\r\n                      ))}\r\n                    </Select>\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              \r\n              <Divider orientation=\"left\">报告内容</Divider>\r\n              \r\n              <Row gutter={16}>\r\n                <Col span={24}>\r\n                  <Form.Item\r\n                    name=\"content\"\r\n                    label=\"分析内容\"\r\n                  >\r\n                    <Checkbox.Group style={{ width: '100%' }}>\r\n                      <Row gutter={[16, 16]}>\r\n                        <Col span={8}>\r\n                          <Card size=\"small\" hoverable>\r\n                            <Checkbox value=\"knowledge\">知识点分析</Checkbox>\r\n                            <div style={{ marginTop: 8, marginLeft: 24 }}>\r\n                              <Text type=\"secondary\">包含知识点掌握度、薄弱点等分析</Text>\r\n                            </div>\r\n                          </Card>\r\n                        </Col>\r\n                        <Col span={8}>\r\n                          <Card size=\"small\" hoverable>\r\n                            <Checkbox value=\"behavior\">行为分析</Checkbox>\r\n                            <div style={{ marginTop: 8, marginLeft: 24 }}>\r\n                              <Text type=\"secondary\">包含学习行为、答题习惯等分析</Text>\r\n                            </div>\r\n                          </Card>\r\n                        </Col>\r\n                        <Col span={8}>\r\n                          <Card size=\"small\" hoverable>\r\n                            <Checkbox value=\"difficulty\">难度分析</Checkbox>\r\n                            <div style={{ marginTop: 8, marginLeft: 24 }}>\r\n                              <Text type=\"secondary\">包含题目难度、不合理题目等分析</Text>\r\n                            </div>\r\n                          </Card>\r\n                        </Col>\r\n                      </Row>\r\n                    </Checkbox.Group>\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              \r\n              <Form.Item>\r\n                <Space>\r\n                  <Button type=\"primary\" htmlType=\"submit\" loading={generating}>\r\n                    生成报告\r\n                  </Button>\r\n                  <Button \r\n                    icon={<SettingOutlined />}\r\n                    onClick={() => message.info('高级设置功能即将上线')}\r\n                  >\r\n                    高级设置\r\n                  </Button>\r\n                </Space>\r\n              </Form.Item>\r\n            </Form>\r\n            \r\n            {error && <Alert message=\"错误\" description={error} type=\"error\" showIcon style={{ marginTop: 16 }} />}\r\n            \r\n            {reportPath && (\r\n              <Card style={{ marginTop: 16, textAlign: 'center' }}>\r\n                <FileTextOutlined style={{ fontSize: 48, color: '#1890ff', marginBottom: 16 }} />\r\n                <Title level={4}>报告已生成</Title>\r\n                <Space style={{ marginTop: 16 }}>\r\n                  <Button \r\n                    type=\"primary\" \r\n                    icon={<DownloadOutlined />} \r\n                    onClick={() => downloadReport(reportPath)}\r\n                  >\r\n                    下载报告\r\n                  </Button>\r\n                  <Button \r\n                    icon={<EyeOutlined />} \r\n                    onClick={() => previewReport(reportPath)}\r\n                  >\r\n                    预览报告\r\n                  </Button>\r\n                </Space>\r\n              </Card>\r\n            )}\r\n          </Card>\r\n        </TabPane>\r\n        \r\n        <TabPane \r\n          tab={<span><HistoryOutlined />报告历史</span>} \r\n          key=\"history\"\r\n        >\r\n          <Card>\r\n            <Table \r\n              columns={historyColumns} \r\n              dataSource={reportHistory} \r\n              rowKey=\"id\" \r\n              loading={loading}\r\n              pagination={{ pageSize: 10 }}\r\n            />\r\n          </Card>\r\n        </TabPane>\r\n      </Tabs>\r\n      \r\n      {/* 报告预览模态框 */}\r\n      <Modal\r\n        title=\"报告预览\"\r\n        visible={previewVisible}\r\n        onCancel={() => setPreviewVisible(false)}\r\n        width={800}\r\n        footer={[\r\n          <Button key=\"close\" onClick={() => setPreviewVisible(false)}>\r\n            关闭\r\n          </Button>,\r\n          <Button \r\n            key=\"download\" \r\n            type=\"primary\" \r\n            icon={<DownloadOutlined />} \r\n            onClick={() => {\r\n              downloadReport(previewData?.report_path);\r\n              setPreviewVisible(false);\r\n            }}\r\n          >\r\n            下载报告\r\n          </Button>\r\n        ]}\r\n      >\r\n        {previewData ? (\r\n          <div>\r\n            <Title level={3} style={{ textAlign: 'center' }}>{previewData.title}</Title>\r\n            \r\n            {previewData.sections?.map((section, index) => (\r\n              <div key={index} style={{ marginBottom: 24 }}>\r\n                <Title level={4}>{section.title}</Title>\r\n                <Paragraph>{section.content}</Paragraph>\r\n                \r\n                {section.charts?.map((chart, chartIndex) => (\r\n                  <div key={chartIndex} style={{ marginTop: 16, marginBottom: 16 }}>\r\n                    <ReactECharts \r\n                      option={getPreviewChartOption(chart)} \r\n                      style={{ height: 300 }} \r\n                    />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <Spin tip=\"加载预览数据...\" />\r\n        )}\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReportGenerator;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}